package cpu

type AddrMode int

const (
	Acc AddrMode = iota
	Abs
	Abx
	Aby
	Imm
	Imp
	Ind
	Inx
	Iny
	Rel
	Zp
	Zpx
	Zpy
)

type Instruction struct {
	function func(*CPU, uint16)
	addrMode AddrMode
	cyc      int
	pageCyc  int
}

var (
	INSTRUCTIONS = map[uint8]Instruction{
		0x00: {brk, Imp, 7, 0},
		0x01: {ora, Inx, 6, 0},
		0x02: {illegal, Acc, 0, 0},
		0x03: {illegal, Acc, 0, 0},
		0x04: {illegal, Acc, 0, 0},
		0x05: {ora, Zp, 3, 0},
		0x06: {asl, Zp, 5, 0},
		0x07: {illegal, Acc, 0, 0},
		0x08: {php, Imp, 3, 0},
		0x09: {ora, Imm, 2, 0},
		0x0A: {asla, Acc, 2, 0},
		0x0B: {illegal, Acc, 0, 0},
		0x0C: {illegal, Acc, 0, 0},
		0x0D: {ora, Abs, 4, 0},
		0x0E: {asl, Abs, 6, 0},
		0x0F: {illegal, Acc, 0, 0},
		0x10: {bpl, Rel, 2, 1},
		0x11: {ora, Iny, 5, 1},
		0x12: {illegal, Acc, 0, 0},
		0x13: {illegal, Acc, 0, 0},
		0x14: {illegal, Acc, 0, 0},
		0x15: {ora, Zpx, 4, 0},
		0x16: {asl, Zpx, 6, 0},
		0x17: {illegal, Acc, 0, 0},
		0x18: {clc, Imp, 2, 0},
		0x19: {ora, Aby, 4, 1},
		0x1A: {illegal, Acc, 0, 0},
		0x1B: {illegal, Acc, 0, 0},
		0x1C: {illegal, Acc, 0, 1},
		0x1D: {ora, Abx, 4, 1},
		0x1E: {asl, Abx, 7, 0},
		0x1F: {illegal, Acc, 0, 0},
		0x20: {jsr, Abs, 6, 0},
		0x21: {and, Inx, 6, 0},
		0x22: {illegal, Acc, 0, 0},
		0x23: {illegal, Acc, 0, 0},
		0x24: {bit, Zp, 3, 0},
		0x25: {and, Zp, 3, 0},
		0x26: {rol, Zp, 5, 0},
		0x27: {illegal, Acc, 0, 0},
		0x28: {plp, Imp, 4, 0},
		0x29: {and, Imm, 2, 0},
		0x2A: {rola, Acc, 2, 0},
		0x2B: {illegal, Acc, 0, 0},
		0x2C: {bit, Abs, 4, 0},
		0x2D: {and, Abs, 4, 0},
		0x2E: {rol, Abs, 6, 0},
		0x2F: {illegal, Acc, 0, 0},
		0x30: {bmi, Rel, 2, 1},
		0x31: {and, Iny, 5, 1},
		0x32: {illegal, Acc, 0, 0},
		0x33: {illegal, Acc, 0, 0},
		0x34: {illegal, Acc, 0, 0},
		0x35: {and, Zpx, 4, 0},
		0x36: {rol, Zpx, 6, 0},
		0x37: {illegal, Acc, 0, 0},
		0x38: {sec, Imp, 2, 0},
		0x39: {and, Aby, 4, 1},
		0x3A: {illegal, Acc, 0, 0},
		0x3B: {illegal, Acc, 0, 0},
		0x3C: {illegal, Acc, 0, 1},
		0x3D: {and, Abx, 4, 1},
		0x3E: {rol, Abx, 7, 0},
		0x3F: {illegal, Acc, 0, 0},
		0x40: {rti, Imp, 6, 0},
		0x41: {eor, Inx, 6, 0},
		0x42: {illegal, Acc, 0, 0},
		0x43: {illegal, Acc, 0, 0},
		0x44: {illegal, Acc, 0, 0},
		0x45: {eor, Zp, 3, 0},
		0x46: {lsr, Zp, 5, 0},
		0x47: {illegal, Acc, 0, 0},
		0x48: {pha, Imp, 3, 0},
		0x49: {eor, Imm, 2, 0},
		0x4A: {lsra, Acc, 2, 0},
		0x4B: {illegal, Acc, 0, 0},
		0x4C: {jmp, Abs, 3, 0},
		0x4D: {eor, Abs, 4, 0},
		0x4E: {lsr, Abs, 6, 0},
		0x4F: {illegal, Acc, 0, 0},
		0x50: {bvc, Rel, 2, 1},
		0x51: {eor, Iny, 5, 1},
		0x52: {illegal, Acc, 0, 0},
		0x53: {illegal, Acc, 0, 0},
		0x54: {illegal, Acc, 0, 0},
		0x55: {eor, Zpx, 4, 0},
		0x56: {lsr, Zpx, 6, 0},
		0x57: {illegal, Acc, 0, 0},
		0x58: {cli, Imp, 2, 0},
		0x59: {eor, Aby, 4, 1},
		0x5A: {illegal, Acc, 0, 0},
		0x5B: {illegal, Acc, 0, 0},
		0x5C: {illegal, Acc, 0, 1},
		0x5D: {eor, Abx, 4, 1},
		0x5E: {lsr, Abx, 7, 0},
		0x5F: {illegal, Acc, 0, 0},
		0x60: {rts, Imp, 6, 0},
		0x61: {adc, Inx, 6, 0},
		0x62: {illegal, Acc, 0, 0},
		0x63: {illegal, Acc, 0, 0},
		0x64: {illegal, Acc, 0, 0},
		0x65: {adc, Zp, 3, 0},
		0x66: {ror, Zp, 5, 0},
		0x67: {illegal, Acc, 0, 0},
		0x68: {pla, Imp, 4, 0},
		0x69: {adc, Imm, 2, 0},
		0x6A: {rora, Acc, 2, 0},
		0x6B: {illegal, Acc, 0, 0},
		0x6C: {jmp, Ind, 5, 0},
		0x6D: {adc, Abs, 4, 0},
		0x6E: {ror, Abs, 6, 0},
		0x6F: {illegal, Acc, 0, 0},
		0x70: {bvs, Rel, 2, 1},
		0x71: {adc, Iny, 5, 1},
		0x72: {illegal, Acc, 0, 0},
		0x73: {illegal, Acc, 0, 0},
		0x74: {illegal, Acc, 0, 0},
		0x75: {adc, Zpx, 4, 0},
		0x76: {ror, Zpx, 6, 0},
		0x77: {illegal, Acc, 0, 0},
		0x78: {sei, Imp, 2, 0},
		0x79: {adc, Aby, 4, 1},
		0x7A: {illegal, Acc, 0, 0},
		0x7B: {illegal, Acc, 0, 0},
		0x7C: {illegal, Acc, 0, 1},
		0x7D: {adc, Abx, 4, 1},
		0x7E: {ror, Abx, 7, 0},
		0x7F: {illegal, Acc, 0, 0},
		0x80: {illegal, Acc, 0, 0},
		0x81: {sta, Inx, 6, 0},
		0x82: {illegal, Acc, 0, 0},
		0x83: {illegal, Acc, 0, 0},
		0x84: {sty, Zp, 3, 0},
		0x85: {sta, Zp, 3, 0},
		0x86: {stx, Zp, 3, 0},
		0x87: {illegal, Acc, 0, 0},
		0x88: {dey, Imp, 2, 0},
		0x89: {illegal, Acc, 0, 0},
		0x8A: {txa, Imp, 2, 0},
		0x8B: {illegal, Acc, 0, 0},
		0x8C: {sty, Abs, 4, 0},
		0x8D: {sta, Abs, 4, 0},
		0x8E: {stx, Abs, 4, 0},
		0x8F: {illegal, Acc, 0, 0},
		0x90: {bcc, Rel, 2, 1},
		0x91: {sta, Iny, 6, 0},
		0x92: {illegal, Acc, 0, 0},
		0x93: {illegal, Acc, 0, 0},
		0x94: {sty, Zpx, 4, 0},
		0x95: {sta, Zpx, 4, 0},
		0x96: {stx, Zpy, 4, 0},
		0x97: {illegal, Acc, 0, 0},
		0x98: {tya, Imp, 2, 0},
		0x99: {sta, Aby, 5, 0},
		0x9A: {txs, Imp, 2, 0},
		0x9B: {illegal, Acc, 0, 0},
		0x9C: {illegal, Acc, 0, 0},
		0x9D: {sta, Abx, 5, 0},
		0x9E: {illegal, Acc, 0, 0},
		0x9F: {illegal, Acc, 0, 0},
		0xA0: {ldy, Imm, 2, 0},
		0xA1: {lda, Inx, 6, 0},
		0xA2: {ldx, Imm, 2, 0},
		0xA3: {illegal, Acc, 0, 0},
		0xA4: {ldy, Zp, 3, 0},
		0xA5: {lda, Zp, 3, 0},
		0xA6: {ldx, Zp, 3, 0},
		0xA7: {illegal, Acc, 0, 0},
		0xA8: {tay, Imp, 2, 0},
		0xA9: {lda, Imm, 2, 0},
		0xAA: {tax, Imp, 2, 0},
		0xAB: {illegal, Acc, 0, 0},
		0xAC: {ldy, Abs, 4, 0},
		0xAD: {lda, Abs, 4, 0},
		0xAE: {ldx, Abs, 4, 0},
		0xAF: {illegal, Acc, 0, 0},
		0xB0: {bcs, Rel, 2, 1},
		0xB1: {lda, Iny, 5, 1},
		0xB2: {illegal, Acc, 0, 0},
		0xB3: {illegal, Acc, 0, 1},
		0xB4: {ldy, Zpx, 4, 0},
		0xB5: {lda, Zpx, 4, 0},
		0xB6: {ldx, Zpy, 4, 0},
		0xB7: {illegal, Acc, 0, 0},
		0xB8: {clv, Imp, 2, 0},
		0xB9: {lda, Aby, 4, 1},
		0xBA: {tsx, Imp, 2, 0},
		0xBB: {illegal, Acc, 0, 1},
		0xBC: {ldy, Abx, 4, 1},
		0xBD: {lda, Abx, 4, 1},
		0xBE: {ldx, Aby, 4, 1},
		0xBF: {illegal, Acc, 0, 1},
		0xC0: {cpy, Imm, 2, 0},
		0xC1: {cmp, Inx, 6, 0},
		0xC2: {illegal, Acc, 0, 0},
		0xC3: {illegal, Acc, 0, 0},
		0xC4: {cpy, Zp, 3, 0},
		0xC5: {cmp, Zp, 3, 0},
		0xC6: {dec, Zp, 5, 0},
		0xC7: {illegal, Acc, 0, 0},
		0xC8: {iny, Imp, 2, 0},
		0xC9: {cmp, Imm, 2, 0},
		0xCA: {dex, Imp, 2, 0},
		0xCB: {illegal, Acc, 0, 0},
		0xCC: {cpy, Abs, 4, 0},
		0xCD: {cmp, Abs, 4, 0},
		0xCE: {dec, Abs, 6, 0},
		0xCF: {illegal, Acc, 0, 0},
		0xD0: {bne, Rel, 2, 1},
		0xD1: {cmp, Iny, 5, 1},
		0xD2: {illegal, Acc, 0, 0},
		0xD3: {illegal, Acc, 0, 0},
		0xD4: {illegal, Acc, 0, 0},
		0xD5: {cmp, Zpx, 4, 0},
		0xD6: {dec, Zpx, 6, 0},
		0xD7: {illegal, Acc, 0, 0},
		0xD8: {cld, Imp, 2, 0},
		0xD9: {cmp, Aby, 4, 1},
		0xDA: {illegal, Acc, 0, 0},
		0xDB: {illegal, Acc, 0, 0},
		0xDC: {illegal, Acc, 0, 1},
		0xDD: {cmp, Abx, 4, 1},
		0xDE: {dec, Abx, 7, 0},
		0xDF: {illegal, Acc, 0, 0},
		0xE0: {cpx, Imm, 2, 0},
		0xE1: {sbc, Inx, 6, 0},
		0xE2: {illegal, Acc, 0, 0},
		0xE3: {illegal, Acc, 0, 0},
		0xE4: {cpx, Zp, 3, 0},
		0xE5: {sbc, Zp, 3, 0},
		0xE6: {inc, Zp, 5, 0},
		0xE7: {illegal, Acc, 0, 0},
		0xE8: {inx, Imp, 2, 0},
		0xE9: {sbc, Imm, 2, 0},
		0xEA: {nop, Imp, 2, 0},
		0xEB: {illegal, Acc, 0, 0},
		0xEC: {cpx, Abs, 4, 0},
		0xED: {sbc, Abs, 4, 0},
		0xEE: {inc, Abs, 6, 0},
		0xEF: {illegal, Acc, 0, 0},
		0xF0: {beq, Rel, 2, 1},
		0xF1: {sbc, Iny, 5, 1},
		0xF2: {illegal, Acc, 0, 0},
		0xF3: {illegal, Acc, 0, 0},
		0xF4: {illegal, Acc, 0, 0},
		0xF5: {sbc, Zpx, 4, 0},
		0xF6: {inc, Zpx, 6, 0},
		0xF7: {illegal, Acc, 0, 0},
		0xF8: {sed, Imp, 2, 0},
		0xF9: {sbc, Aby, 4, 1},
		0xFA: {illegal, Acc, 0, 0},
		0xFB: {illegal, Acc, 0, 0},
		0xFC: {illegal, Acc, 0, 1},
		0xFD: {sbc, Abx, 4, 1},
		0xFE: {inc, Abx, 7, 0},
		0xFF: {illegal, Acc, 0, 0},
	}
)
